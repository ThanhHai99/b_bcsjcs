(()=>{"use strict";var e={509:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AppController=void 0;const o=r(563),a=r(918);let s=class{constructor(e){this.appService=e}getHello(){return this.appService.getHello()}};t.AppController=s,n([(0,o.Get)(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",String)],s.prototype,"getHello",null),t.AppController=s=n([(0,o.Controller)(),i("design:paramtypes",[a.AppService])],s)},205:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AppModule=void 0;const i=r(563),o=r(509),a=r(918),s=r(365),c=r(428),l=r(85),u=r(845);let f=class{};t.AppModule=f,t.AppModule=f=n([(0,i.Module)({imports:[s.BinanceModule,c.ConfigModule.forRoot({envFilePath:[".env"],isGlobal:!0,cache:!0,load:[u.default]}),l.OkxModule],controllers:[o.AppController],providers:[a.AppService]})],f)},918:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AppService=void 0;const i=r(563);let o=class{getHello(){return"Hello World!"}};t.AppService=o,t.AppService=o=n([(0,i.Injectable)()],o)},507:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BinanceConfig=void 0,t.BinanceConfig={depositP2PHistory:[{orderNumber:"20601569957284466688",amount:7e6},{orderNumber:"20599433750259236864",amount:1e6},{orderNumber:"20599067193907982336",amount:2e6},{orderNumber:"20598112966771331072",amount:4e5},{orderNumber:"20597858700044353536",amount:1e6},{orderNumber:"20597110078946316288",amount:3e6},{orderNumber:"20596186633552961536",amount:4e5},{orderNumber:"20595526032529244160",amount:59e5},{orderNumber:"20590316985227087872",amount:274e3},{orderNumber:"20589653781866766336",amount:15e5},{orderNumber:"20584783287197126656",amount:5e5}],withdrawP2PHistory:[{orderNumber:"20609363893980004352",amount:5e5},{orderNumber:"20608415506282602496",amount:1e6},{orderNumber:"20604327733671284736",amount:2e6},{orderNumber:"20598561738003931136",amount:75e5},{orderNumber:"20595605226680119296",amount:5904444}]}},173:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BinanceController=void 0;const o=r(563),a=r(886);let s=class{constructor(e){this.service=e}g(){return this.service.reportPnL()}};t.BinanceController=s,n([(0,o.Get)(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],s.prototype,"g",null),t.BinanceController=s=n([(0,o.Controller)("binance"),i("design:paramtypes",[a.BinanceService])],s)},365:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.BinanceModule=void 0;const i=r(563),o=r(173),a=r(886),s=r(959),c=r(161),l=r(461),u=r(765);let f=class{};t.BinanceModule=f,t.BinanceModule=f=n([(0,i.Module)({imports:[s.ScheduleModule.forRoot(),l.EventEmitterModule.forRoot(),u.SharedModule],controllers:[o.BinanceController],providers:[a.BinanceService,c.BinanceUtil]})],f)},886:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BinanceService=void 0;const o=r(563),a=r(938),s=r(56),c=r(825),l=r(428),u=r(716),f=r(316),d=r(112),m=r(18),p=r(507),h=r(161),g=r(461),b=r(959),y=r(500),v=r(966);let P=class{constructor(e,t,r,n,i){this.configService=e,this.telegramShared=t,this.rateShared=r,this.numberShared=n,this.binanceUtil=i,this.longTermTrade=this.configService.get("trade.longTerm"),this.shortTermTrade=this.configService.get("trade.shortTerm")}async reportPnL(e=!0){try{this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] Start ${this.reportPnL.name}`);const t=await this.binanceUtil.withdrawAmount(),r=(await this.binanceUtil.getAllSymbol()).filter((e=>e.endsWith("USDT")));let n=0,i=0,o=0,a="PnL----------------------------------";for(const e of r){const r=e.split("USDT")[0],s=await new Promise(((t,r)=>{setTimeout((()=>{this.binanceUtil.binance.trades(e,((e,r,n)=>t({data:r,symbol:n})))}),100)}));if(!s.data||"{}"===JSON.stringify(s.data)||0==s.data.length)continue;let l=0,f=0;for(const e of s.data)e.isBuyer?(l-=parseFloat(e.quoteQty),u(e.time).isSame(u().subtract(1,"days"),"day")&&(f-=parseFloat(e.quoteQty))):(l+=parseFloat(e.quoteQty),u(e.time).isSame(u().subtract(1,"days"),"day")&&(f+=parseFloat(e.quoteQty)));const d=this.binanceUtil.balance.findIndex((e=>e.asset===r)),m=this.binanceUtil.balance.findIndex((e=>e.asset===`LD${r}`));let p=-1!=d?this.binanceUtil.getBalanceCoin(r)+Number(this.binanceUtil.balance[d].locked):0;p+=-1!=m?this.binanceUtil.getBalanceCoin(`LD${r}`)+Number(this.binanceUtil.balance[m].locked):0,p>0&&(l+="USDT"==r?p:p*Number(this.binanceUtil.prices[`${r}USDT`]));const h=t.findIndex((e=>e.coin==r));if(-1!=h){const e=(0,c.get)(t,`${h}.asset`,0);l+=e,o+=e}a+=`\n${l>0?"ðŸŸ¢":"ðŸ”´"}${s.symbol}: ${l}`,n+=l,i+=f}const s=p.BinanceConfig.depositP2PHistory.reduce(((e,t)=>e+t.amount),0),l=p.BinanceConfig.withdrawP2PHistory.reduce(((e,t)=>e+t.amount),0),f=await this.rateShared.usdToVnd(n)-(0+s)+(o+l);a+=`\n-------------------------------------\n${n>0?"ðŸŸ¢":"ðŸ”´"}Total: ($)${this.numberShared.formatNumber(n)}`,a+=`\n${i>0?"ðŸŸ¢":"ðŸ”´"}[testing] Today: ($)${this.numberShared.formatNumber(i)}`,a+=`\n${f>0?"ðŸŸ¢":"ðŸ”´"}[testing] Truth: (â‚«)${this.numberShared.formatNumber(f)}`,e&&this.telegramShared.reportToTelegram(a)}catch(e){this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] ${this.reportPnL.name}: ${e}`)}}newCoinTrade(){this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] Start ${this.newCoinTrade.name}`);for(const e in s.NewCoin.BINANCE){const t=s.NewCoin.BINANCE[`${e}`];if(u().isAfter(t.time))continue;const r=u(t.time).local(!0),n=`${r.minute()} ${r.hour()} ${r.date()} ${r.month()+1} *`;new f.CronJob(n,(async()=>{const r=this.binanceUtil.getBalanceCoin("USDT"),n=r<t.funds?r:t.funds;if(n<5)return;const i=await this.binanceUtil.currentPrice(e,"5m");return await this.buy(e,n/i,i)})).start(),this.telegramShared.reportToTelegram(`Job ${m.Exchanges.BINANCE}-NewCoin-${e} created`)}}async reportBalance(e=!0){try{this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] Start ${this.reportBalance.name}`);let t=0;const r=(await a.default.get("https://api.exchangerate-api.com/v4/latest/USD")).data.rates.VND;for(const e of this.binanceUtil.balance){const r=e.asset.startsWith("LD")?e.asset.split("LD")[1]:e.asset,n=Number(e.free)+Number(e.locked);if(0==n)continue;const i="USDT"==e.asset?n:n*Number(this.binanceUtil.prices[`${r}USDT`]);i&&(t+=i)}if(!e)return t;this.telegramShared.reportToTelegram(`ðŸ’²${this.numberShared.formatNumber(t)} (ðŸ’±${this.numberShared.formatNumber(t*r)})`)}catch(e){this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] ${this.reportBalance.name}: ${e}`)}}async spotShortTermTrade(){try{this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] Start ${this.spotShortTermTrade.name}`);const e=(0,s.default)().ShortTerm.BINANCE,t=Object.keys(e).reduce((function(t,r){if(!0===e[r].status){const n=e[r].coin;Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t}),{}),r="5m",n=576;for(const e in t){const i=await this.binanceUtil.getClosePrice(`${e}USDT`,r,n),o=await this.binanceUtil.RSINow(i),a=await this.binanceUtil.volumeNow(`${e}USDT`,r,n);if(o<=t[`${e}`].minRsi&&a>=t[`${e}`].minVolume){const o=this.binanceUtil.getBalanceCoin("USDT");if(o<10)continue;const a=this.binanceUtil.calculateMovingAverage(i.slice(-n),n),s=this.binanceUtil.getBalanceCoin(e)+Number(this.binanceUtil.balance[`${e}`].onOrder),l=await this.binanceUtil.currentPrice(`${e}USDT`,r),u=s*l,f=Math.floor(t[`${e}`].funds)-Math.floor(u);if(f<10||o<f)continue;if(i[a.length]>a[a.length]&&i[a.length-1]<=a[a.length-1]){const r=await this.buy(e,Number((f/l).toFixed(5)),l);if("FILLED"!=(0,c.get)(r,"status",null))continue;const n=Number(r.fills[0].price),i=n+n*t[`${e}`].profitPercent/100,o=n-3*n/100;this.sell(e,Number(r.executedQty),i,o)}}}}catch(e){this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] ${this.spotShortTermTrade.name}: ${e}`)}}async spotLongTermTrade(){try{return this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] Start ${this.spotLongTermTrade.name}`),!0}catch(e){this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] ${this.spotLongTermTrade.name}: ${e}`)}}async buy(e,t,r){const n=await this.binanceUtil.binance.marketBuy(`${e}USDT`,t).catch((n=>this.telegramShared.logToTelegram(`[${m.Exchanges.BINANCE}] ${t} ${e} --\x3e bought (USD ${r}) --\x3e fail\n ${JSON.stringify(n)}`))),i=this.binanceUtil.balance.findIndex((e=>"USDT"==e.asset));return this.binanceUtil.balance[i].free=String(Number(this.binanceUtil.balance[i].free)-t*r),this.telegramShared.reportToTelegram(`${t} ${e} --\x3e bought (USD ${r})`),n}async sell(e,t,r,n){return await new Promise(((i,o)=>{this.binanceUtil.binance.sell(`${e}USDT`,t,r,{stopPrice:n,type:"STOP_LOSS_LIMIT"},((n,o)=>n?this.telegramShared.logToTelegram(`${t} ${e} --\x3e sold (USD ${r}) --\x3e fail\n ${JSON.stringify(n)}`):i(o)))}))}settingJob(){"true"==this.shortTermTrade&&new f.CronJob(b.CronExpression.EVERY_MINUTE,(()=>this.spotShortTermTrade())).start(),"true"==this.longTermTrade&&new f.CronJob(b.CronExpression.EVERY_MINUTE,(()=>this.spotLongTermTrade())).start();const e=u("0001-01-01T21:00+07:00").local(!0).hour();new f.CronJob(`0 ${e} * * *`,(()=>this.reportBalance(!0))).start();const t=u("0001-01-01T20:00+07:00").local(!0).hour();new f.CronJob(`0 ${t} * * *`,(()=>this.reportPnL())).start(),this.newCoinTrade()}};t.BinanceService=P,n([(0,g.OnEvent)("binance.settingJob"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],P.prototype,"settingJob",null),t.BinanceService=P=n([(0,o.Injectable)(),i("design:paramtypes",[l.ConfigService,d.TelegramShared,v.RateShared,y.NumberShared,h.BinanceUtil])],P)},161:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BinanceUtil=void 0;const o=r(563),a=r(480),s=r(982),c=r(938),l=r(428),u=r(716),f=r(959),d=r(461),m=r(112),p=r(277),h=r(98);let g=class{constructor(e,t,r){this.configService=e,this.eventEmitter=t,this.telegramShared=r,this.binance=(new h).options({APIKEY:this.configService.get("binance.api_key"),APISECRET:this.configService.get("binance.api_secret"),test:"true"==this.configService.get("binance.test"),useServerTime:!0,family:4}),this.privateUpdate(!0)}getBalanceCoin(e){const t=this.balance.findIndex((t=>t.asset===e));return-1!=t?Number(this.balance[t].free):0}async binanceRequestAPI(e,t){try{const r=a.stringify(t),n=`https://api.binance.com${e}?${r}&signature=${s.createHmac("sha256",this.configService.get("binance.api_secret")).update(r).digest("hex")}`;return new Promise(((e,t)=>{c.default.get(n,{headers:{"X-MBX-APIKEY":this.configService.get("binance.api_key")}}).then((t=>{e(t.data)}))}))}catch(e){this.telegramShared.logToTelegram(`${this.binanceRequestAPI.name}: ${e}`)}}async getP2PHistory(e){return await this.binanceRequestAPI("/sapi/v1/c2c/orderMatch/listUserOrderHistory",{timestamp:await this.getServerTime(),startTimestamp:1e3*u().subtract(1,"months").unix(),tradeType:e})}async getServerTime(){return(await this.binance.time()).serverTime}async account(){return await new Promise(((e,t)=>{setTimeout((()=>this.binance.account(((t,r)=>e(r)))),1e3)}))}async depositHistory(){return this.binance.depositHistory()}async withdrawHistory(){return this.binance.withdrawHistory()}async withdrawAmount(){const e=await this.binance.prices();return(await this.withdrawHistory()).map((t=>{const r=Number(t.amount)+Number(t.transactionFee),n=Number(e[`${t.coin}USDT`])||0;return{coin:t.coin,quantity:r,asset:r*n}}))}async calculateRSI(e){const t={values:e,period:14};return p.RSI.calculate(t)}async RSINow(e){const t=await this.calculateRSI(e);return t[t.length-1]}async getAllSymbol(){const e=await this.binance.prices();return Object.keys(e)}async getClosePrice(e,t,r){return(await this.binance.candlesticks(e,t,void 0,{limit:r})).map((e=>Number(e[4])))}async currentPrice(e,t){return await this.getClosePrice(e,t,1)[0]}async getVolume(e,t,r){return(await this.binance.candlesticks(e,t,void 0,{limit:r})).map((e=>Number(e[5])))}async volumeNow(e,t,r){const n=await this.getVolume(e,t,r);return n[n.length-1]}calculateMovingAverage(e,t){const r=[];for(let n=0;n<e.length-t+1;n++){const i=e.slice(n,n+t).reduce(((e,t)=>e+t),0);r.push(i/t)}return r}async getFearAndGreedIndex(){try{const e=await this.binance.prices(),t=parseFloat(e.BTCUSDT),r=parseFloat(e.ETHUSDT),n=parseFloat(e.XRPUSDT),i=parseFloat(e.BCHUSDT),o=parseFloat(e.LTCUSDT),a=t+r+n+i+o,s=100-(t/a*100+r/a*100+n/a*100+i/a*100+o/a*100);this.telegramShared.logToTelegram(`Fear & Greed Index: ${s.toFixed(2)}%`)}catch(e){console.error("Error fetching Fear & Greed Index:",e.body)}}async P2PSell(){return await this.getP2PHistory("SELL")}async P2PBuy(){return await this.getP2PHistory("BUY")}async exchangeInfo(){return await new Promise(((e,t)=>this.binance.exchangeInfo(((t,r)=>{e(r)}))))}async privateUpdate(e=!1){try{const t=await this.account();if("{}"==JSON.stringify(t))return await this.privateUpdate();this.balance=t.balances.filter((e=>Number(e.locked)+Number(e.free)>0)),this.prices=await this.binance.prices(),e&&this.eventEmitter.emit("binance.settingJob",!0)}catch(e){this.telegramShared.logToTelegram(`${this.privateUpdate.name}: ${e}`)}}async getETHStakingHistory(){return await this.binanceRequestAPI("/sapi/v1/eth-staking/eth/history/stakingHistory",{timestamp:await this.getServerTime()})}};t.BinanceUtil=g,n([(0,f.Cron)(f.CronExpression.EVERY_HOUR),i("design:type",Function),i("design:paramtypes",[Boolean]),i("design:returntype",Promise)],g.prototype,"privateUpdate",null),t.BinanceUtil=g=n([(0,o.Injectable)(),i("design:paramtypes",[l.ConfigService,d.EventEmitter2,m.TelegramShared])],g)},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewCoin=void 0;const n=r(18);t.default=()=>({[`${n.Term.ShortTerm}`]:{[`${n.Exchanges.BINANCE}`]:{[`${n.Platform.POW}`]:{status:!1,coin:{BTC:{profitPercent:2,funds:150,minRsi:25,minVolume:200}}},[`${n.Platform.Layer1Layer2}`]:{status:!0,coin:{BNB:{profitPercent:2,funds:10,minRsi:20,minVolume:200},SOL:{profitPercent:2,funds:10,minRsi:20,minVolume:200},XRP:{profitPercent:2,funds:10,minRsi:20,minVolume:200},ADA:{profitPercent:2,funds:10,minRsi:20,minVolume:200},AVAX:{profitPercent:2,funds:10,minRsi:20,minVolume:200},TRX:{profitPercent:2,funds:10,minRsi:20,minVolume:200},MATIC:{profitPercent:2,funds:10,minRsi:20,minVolume:200},NEAR:{profitPercent:2,funds:10,minRsi:30,minVolume:200},ATOM:{profitPercent:2,funds:10,minRsi:20,minVolume:200},ARB:{profitPercent:2,funds:10,minRsi:20,minVolume:200},STRK:{profitPercent:2,funds:10,minRsi:20,minVolume:200},DYM:{profitPercent:2,funds:10,minRsi:20,minVolume:200},AEVO:{profitPercent:2,funds:10,minRsi:20,minVolume:200},PIXEL:{profitPercent:2,funds:10,minRsi:20,minVolume:200},AR:{profitPercent:2,funds:10,minRsi:20,minVolume:200},LINK:{profitPercent:2,funds:10,minRsi:20,minVolume:200}}},[`${n.Platform.DeFi}`]:{status:!0,coin:{JUP:{profitPercent:2,funds:10,minRsi:20,minVolume:200},AAVE:{profitPercent:2,funds:10,minRsi:20,minVolume:200},CAKE:{profitPercent:2,funds:10,minRsi:20,minVolume:200},DYDX:{profitPercent:2,funds:10,minRsi:20,minVolume:200},LUNA:{profitPercent:2,funds:10,minRsi:20,minVolume:200},ETHFI:{profitPercent:2,funds:10,minRsi:20,minVolume:200}}},[`${n.Platform.AI}`]:{status:!0,coin:{GRT:{profitPercent:2,funds:10,minRsi:20,minVolume:200},THETA:{profitPercent:2,funds:10,minRsi:20,minVolume:200},FET:{profitPercent:2,funds:10,minRsi:20,minVolume:200},WLD:{profitPercent:2,funds:10,minRsi:20,minVolume:200},OCEAN:{profitPercent:2,funds:10,minRsi:20,minVolume:200},RLC:{profitPercent:2,funds:10,minRsi:20,minVolume:200},IQ:{profitPercent:2,funds:10,minRsi:20,minVolume:200},AI:{profitPercent:2,funds:10,minRsi:20,minVolume:200}}},[`${n.Platform.MeMe}`]:{status:!0,coin:{DOGE:{profitPercent:5,funds:10,minRsi:20,minVolume:200},SHIB:{profitPercent:5,funds:10,minRsi:20,minVolume:200},WIF:{profitPercent:5,funds:10,minRsi:20,minVolume:200},PEPE:{profitPercent:5,funds:10,minRsi:20,minVolume:200},FLOKI:{profitPercent:5,funds:10,minRsi:20,minVolume:200},BONK:{profitPercent:5,funds:10,minRsi:20,minVolume:200},BOME:{profitPercent:5,funds:10,minRsi:20,minVolume:200}}},[`${n.Platform.NFT}`]:{status:!0,coin:{VANRY:{profitPercent:2,funds:10,minRsi:20,minVolume:200}}}},[`${n.Exchanges.OKX}`]:{}},[`${n.Term.LongTerm}`]:{[`${n.Exchanges.BINANCE}`]:{},[`${n.Exchanges.OKX}`]:{}}}),t.NewCoin={[`${n.Exchanges.BINANCE}`]:{},[`${n.Exchanges.OKX}`]:{}}},18:(e,t)=>{var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Term=t.Platform=t.Exchanges=void 0,function(e){e.BINANCE="BINANCE",e.OKX="OKX"}(r||(t.Exchanges=r={})),function(e){e.POW="POW",e.Layer1Layer2="Layer1Layer2",e.DeFi="DeFi",e.GameFi="GameFi",e.AI="AI",e.MeMe="MeMe",e.NFT="NFT"}(n||(t.Platform=n={})),function(e){e.ShortTerm="ShortTerm",e.LongTerm="LongTerm"}(i||(t.Term=i={}))},845:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>({app:{port:process.env.APP_PORT||3e3},binance:{api_key:process.env.BINANCE_API_KEY,api_secret:process.env.BINANCE_API_SECRET,test:process.env.BINANCE_TEST},trade:{shortTerm:process.env.TRADE_SHORT_TERM||!1,longTerm:process.env.TRADE_LONG_TERM||!1}})},37:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxController=void 0;const i=r(563);let o=class{};t.OkxController=o,t.OkxController=o=n([(0,i.Controller)("okx")],o)},85:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxModule=void 0;const i=r(563),o=r(222),a=r(37),s=r(537);let c=class{};t.OkxModule=c,t.OkxModule=c=n([(0,i.Module)({providers:[o.OkxService,s.OkxUtil],controllers:[a.OkxController]})],c)},222:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxService=void 0;const o=r(563),a=r(537);let s=class{constructor(e){this.okxUtil=e}buy(e,t,r){return Promise.resolve(void 0)}newCoinTrade(){}reportBalance(e){return Promise.resolve(void 0)}reportPnL(e){return Promise.resolve(void 0)}sell(e,t,r,n){return Promise.resolve(void 0)}spotLongTermTrade(){return Promise.resolve(void 0)}spotShortTermTrade(){return Promise.resolve(void 0)}};t.OkxService=s,t.OkxService=s=n([(0,o.Injectable)(),i("design:paramtypes",[a.OkxUtil])],s)},537:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxUtil=void 0;const o=r(563);let a=class{constructor(){}getAllSymbol(){}};t.OkxUtil=a,t.OkxUtil=a=n([(0,o.Injectable)(),i("design:paramtypes",[])],a)},500:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NumberShared=void 0;const o=r(563);let a=class{constructor(){}formatNumber(e){return Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toFixed(2)}};t.NumberShared=a,t.NumberShared=a=n([(0,o.Injectable)(),i("design:paramtypes",[])],a)},966:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RateShared=void 0;const o=r(563),a=r(938);let s=class{constructor(){}async usdToVnd(e){const t=await a.default.get("https://api.exchangerate-api.com/v4/latest/USD");return e*Number(t.data.rates.VND)}};t.RateShared=s,t.RateShared=s=n([(0,o.Injectable)(),i("design:paramtypes",[])],s)},765:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.SharedModule=void 0;const i=r(563),o=r(500),a=r(966),s=r(112);let c=class{};t.SharedModule=c,t.SharedModule=c=n([(0,i.Module)({providers:[o.NumberShared,a.RateShared,s.TelegramShared],exports:[o.NumberShared,a.RateShared,s.TelegramShared]})],c)},112:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TelegramShared=void 0;const i=r(563),o=r(209);let a=class{reportToTelegram(e){new o("7038615031:AAHIDin4IcQ_kBWPmtq1RzYw2G7Y_Vujb3w",{}).sendMessage("-1002028571197",e)}logToTelegram(e){new o("7038615031:AAHIDin4IcQ_kBWPmtq1RzYw2G7Y_Vujb3w",{}).sendMessage("-1001557915152",e)}};t.TelegramShared=a,t.TelegramShared=a=n([(0,i.Injectable)()],a)},563:e=>{e.exports=require("@nestjs/common")},428:e=>{e.exports=require("@nestjs/config")},781:e=>{e.exports=require("@nestjs/core")},461:e=>{e.exports=require("@nestjs/event-emitter")},959:e=>{e.exports=require("@nestjs/schedule")},938:e=>{e.exports=require("axios")},316:e=>{e.exports=require("cron")},825:e=>{e.exports=require("lodash")},716:e=>{e.exports=require("moment")},98:e=>{e.exports=require("node-binance-api")},209:e=>{e.exports=require("node-telegram-bot-api")},277:e=>{e.exports=require("technicalindicators")},982:e=>{e.exports=require("crypto")},480:e=>{e.exports=require("querystring")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{const e=r(781),t=r(205),n=r(428),i=r(112),o=r(716);!async function(){const r=await e.NestFactory.create(t.AppModule,{logger:!1}),a=r.get(n.ConfigService),s=r.get(i.TelegramShared),c=a.get("app.port");await r.listen(c,(()=>{const e=`${o().local(!0).format()} ==> Stared at port: ${c}`;console.log(e),s.logToTelegram(e)}))}()})()})();